<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>差分约束 | CJY'S BLOG</title><meta name="keywords" content="差分约束,笔记,图论模版"><meta name="author" content="CJY"><meta name="copyright" content="CJY"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="差分约束应用一：求解不等式组的可行解（只能求解出来一个组）不等式组的的表示形式一般也有两种12345只有相对值的性质x1 &lt;&#x3D; x2 + c1x2 &lt;&#x3D; x3 + c2x3 &lt;&#x3D; x1 + c3（只含有相对值，是不能可以有最大最小值的，因为没有定值约束）12345含有一个绝对参数x1 &lt;&#x3D; x2 + c1x2 &lt;&#x3D; x3 + c2x3 &lt;&#x3D; x1 + c3x1">
<meta property="og:type" content="article">
<meta property="og:title" content="差分约束">
<meta property="og:url" content="http://example.com/2022/07/19/%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F/index.html">
<meta property="og:site_name" content="CJY&#39;S BLOG">
<meta property="og:description" content="差分约束应用一：求解不等式组的可行解（只能求解出来一个组）不等式组的的表示形式一般也有两种12345只有相对值的性质x1 &lt;&#x3D; x2 + c1x2 &lt;&#x3D; x3 + c2x3 &lt;&#x3D; x1 + c3（只含有相对值，是不能可以有最大最小值的，因为没有定值约束）12345含有一个绝对参数x1 &lt;&#x3D; x2 + c1x2 &lt;&#x3D; x3 + c2x3 &lt;&#x3D; x1 + c3x1">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/JapanSummerWallpaper1.jpg">
<meta property="article:published_time" content="2022-07-19T12:05:33.000Z">
<meta property="article:modified_time" content="2022-08-31T12:23:34.406Z">
<meta property="article:author" content="CJY">
<meta property="article:tag" content="差分约束">
<meta property="article:tag" content="笔记">
<meta property="article:tag" content="图论模版">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/JapanSummerWallpaper1.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/07/19/%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"1QKT1WQ97X","apiKey":"1b164137c46bc1989bb5a5f28f24fb64","indexName":"CJYBLOG","hits":{"per_page":6},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '差分约束',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-08-31 20:23:34'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/JapanSummerWallpaper1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">45</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">49</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/JapanSummerWallpaper1.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">CJY'S BLOG</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">差分约束</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-07-19T12:05:33.000Z" title="发表于 2022-07-19 20:05:33">2022-07-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-31T12:23:34.406Z" title="更新于 2022-08-31 20:23:34">2022-08-31</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%A8%A1%E7%89%88/">模版</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%A8%A1%E7%89%88/%E5%9B%BE%E8%AE%BA/">图论</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%A8%A1%E7%89%88/%E5%9B%BE%E8%AE%BA/%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F/">差分约束</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="差分约束"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="差分约束"><a href="#差分约束" class="headerlink" title="差分约束"></a>差分约束</h2><h3 id="应用一：求解不等式组的可行解（只能求解出来一个组）"><a href="#应用一：求解不等式组的可行解（只能求解出来一个组）" class="headerlink" title="应用一：求解不等式组的可行解（只能求解出来一个组）"></a>应用一：求解不等式组的可行解（只能求解出来一个组）</h3><p>不等式组的的表示形式一般也有两种<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">只有相对值的性质</span><br><span class="line">x1 &lt;= x2 + c1</span><br><span class="line">x2 &lt;= x3 + c2</span><br><span class="line">x3 &lt;= x1 + c3</span><br><span class="line">（只含有相对值，是不能可以有最大最小值的，因为没有定值约束）</span><br></pre></td></tr></table></figure><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">含有一个绝对参数</span><br><span class="line">x1 &lt;= x2 + c1</span><br><span class="line">x2 &lt;= x3 + c2</span><br><span class="line">x3 &lt;= x1 + c3</span><br><span class="line">x1 &gt;= 0(0是坐标系中的绝对地址)</span><br></pre></td></tr></table></figure><br>从不等式的形式转换成图的形式<br>dist[x1] &lt;= dist[x2] + c1<br><strong>构造： 这里从x2-&gt;x1连上一条权值为c1的边</strong><br><em>这里的dist数组维护的是点x到源点的最短距离</em><br>反证法：如果dist[x2] + c1 &lt; dist[x1]的话，那么就说明x1到源点的最短路径应该是从x2到源点的最短路径在经过c1边到x1，所以x1的最短路径是可以被更新的</p>
<p>要知道这些不等式集合是不一定是可解的，所以要求其可行解先，我们应该判断其是否有解。<br>判断是否有解？<br>结论：</p>
<ol>
<li><p><strong>x1 &lt;= x2 + c1这种形式，图中没有负环的情况下是有解的</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x1 &lt;= x2 + c1</span><br><span class="line">x2 &lt;= x3 + c2</span><br><span class="line">x3 &lt;= x1 + c3</span><br></pre></td></tr></table></figure>
<p> 证明角度一：不等式运算<br> 我们可以把上面三个不等式加起来，可以得到<code>x1 + x2 + x3 &lt;= x1 + x2 + x3 + c1 + c2 + c3</code><br> 化简可得<code>0 &lt;= c1 + c2 +c3</code> 得到<code>c1 + c2 + c3</code>大于等于0是是有解的，<code>c1 + c2 + c3</code>是路径包含了x1,x2,x3的环，也就是当图中没有负环的时候是有解的。<br> 证明角度二：放缩<br> <code>x1 &lt;= x2 + c1 &lt;= x3 + c1 + c2 &lt;= x1 + c1 + c2 + c3</code>,化简得到 <code>x1 &lt;= x1 + c1 + c2 + c3</code>,很明显仅当<code>c1 + c2 + c3 &lt;= 0</code>的时候不等式才会成立</p>
</li>
<li><p><strong>x1 &gt;= x2 + c1这种形式，图中没有正环的情况下是有解的</strong></p>
</li>
</ol>
<p>在确定完了有解的情况下，我们求解不等式的可行解<br>我们从上面我们转换成图论问题使用了dist数组，表示到源点的最短/最长距离，所以我们首先要构造出来一个源点。<br>源点需要满足的条件：从源点出发，一定是可以达到所以的<strong>边</strong>的。<br>这里是什么源点是一定达到所有的边而不是所有的点呢？？ 很显然如果不能到达这个点的话，那么说明这个点是孤立点，孤立点不受到任何的约束，所以孤立点是可以去取得任何的值</p>
<h4 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h4><ol>
<li>先将每个不等式 xi &lt;= xj + cj 转换成一条j-&gt;i边权为cj的边</li>
<li>构造出一个超级源点（虚拟源点），使得源点一定是可以遍历到所有的边的</li>
<li>从源点求一遍单源最短路<ol>
<li>结果1:如果有负环，则原不等式组一定无解</li>
<li>结构2:如果没有负环，则dist[i]就是原不等式组的一个可行解</li>
</ol>
</li>
</ol>
<h3 id="应用二：求解最大值-最小值（每个值的最大值和最小值）"><a href="#应用二：求解最大值-最小值（每个值的最大值和最小值）" class="headerlink" title="应用二：求解最大值/最小值（每个值的最大值和最小值）"></a>应用二：求解最大值/最小值（每个值的最大值和最小值）</h3><p>现的<br><strong>结论：如果求的是最小值话，则应该求最长路，如果求的是最大值的话，则应该求最短路</strong><br>证明：以求xi的最小值为例<br>首先我们要知道这个不等式组一定是形式二，应为只有相对位置，没有绝对坐标约束是不可能有最大最小值的。<br>我们可以通过放缩（应用一的放缩思想）构造出来一些不等式<code>xi &lt;= xj + cj &lt;= ...&lt;= 0(xi &gt;= 0) + c1 + c2 + c3..+cn</code>,这里的c1，c2..是到xi的边，因为到xi的路径有可能有很多条所以，所以要想满足所有的xi &lt;= c1 + … + cn 的不不等式，我们只能取的上确界，也就是取所有路径的最大值，就一定满足所有的不等式了。<strong>于是就将求x的最小值转换成最长路径</strong></p>
<h4 id="步骤：-1"><a href="#步骤：-1" class="headerlink" title="步骤："></a>步骤：</h4><p>建立一个超级源点，0，然后建立0-&gt;i,边权为c的边(绝对参考值)<br>计算出所有的上界/下界，最终的xi的最大值（最小值）等于所有上界（下界）的最小值（最大值）</p>
<h4 id="注意-与-总结"><a href="#注意-与-总结" class="headerlink" title="注意 与 总结"></a>注意 与 总结</h4><ul>
<li>我们上面的不等式组一定是可以统一成大于等于/小于等于的形式（大于等于和小于等于都是同时存在的，因为有两个变量在不等式的两边，假如对于不等式左边的变量是大于等于，那么就对于不等式右边的变量是小于等于）</li>
<li>求最小值的时候把不等式组统一形式成 a &gt;= b + c1, 把所有的常量（可正可负）都移到不等式的右边，b向a连上一条权值为c1的边（因为求最小值，等于求最长路，dist[a] &gt;= dist[b] + c1, 反证法 b向a有一条权值为c1的边，如果b的最长路径加上一条b-&gt;a路径比原来a的最长路径要大的话，那么就需要对a的最长路径进行更新，矛盾所以我们构造边成立）</li>
<li>求最大值的时候把不等式组统一形式成 a &lt;= b + c1, <code>b</code>向<code>a</code>连上一条权值为c1的边</li>
<li>转化不等式组：a &gt; b 可以等价于 a &gt;= b + 1</li>
<li>最小值（最长路） 正环无解， 最大值（最短路） 负环无解</li>
</ul>
<h3 id="例题-AcWing-1169-糖果"><a href="#例题-AcWing-1169-糖果" class="headerlink" title="例题 AcWing 1169. 糖果"></a>例题 <a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/1171/">AcWing 1169. 糖果</a></h3><h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p>幼儿园里有 N 个小朋友，老师现在想要给这些小朋友们分配糖果，要求每个小朋友都要分到糖果。</p>
<p>但是小朋友们也有嫉妒心，总是会提出一些要求，比如小明不希望小红分到的糖果比他的多，于是在分配糖果的时候， 老师需要满足小朋友们的 K 个要求。</p>
<p>幼儿园的糖果总是有限的，老师想知道他至少需要准备多少个糖果，才能使得每个小朋友都能够分到糖果，并且满足小朋友们所有的要求。</p>
<p>输入格式<br>输入的第一行是两个整数 N,K。</p>
<p>接下来 K 行，表示分配糖果时需要满足的关系，每行 3 个数字 X,A,B。</p>
<p>如果 X=1．表示第 A 个小朋友分到的糖果必须和第 B 个小朋友分到的糖果一样多。<br>如果 X=2，表示第 A 个小朋友分到的糖果必须少于第 B 个小朋友分到的糖果。<br>如果 X=3，表示第 A 个小朋友分到的糖果必须不少于第 B 个小朋友分到的糖果。<br>如果 X=4，表示第 A 个小朋友分到的糖果必须多于第 B 个小朋友分到的糖果。<br>如果 X=5，表示第 A 个小朋友分到的糖果必须不多于第 B 个小朋友分到的糖果。<br>小朋友编号从 1 到 N。</p>
<p>输出格式<br>输出一行，表示老师至少需要准备的糖果数，如果不能满足小朋友们的所有要求，就输出 −1。</p>
<p>数据范围<br>1≤N&lt;105,<br>1≤K≤105,<br>1≤X≤5,<br>1≤A,B≤N</p>
<p>Input<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">5 7</span><br><span class="line">1 1 2</span><br><span class="line">2 3 2</span><br><span class="line">4 4 1</span><br><span class="line">3 4 5</span><br><span class="line">5 4 5</span><br><span class="line">2 3 5</span><br><span class="line">4 5 1</span><br></pre></td></tr></table></figure><br>Output<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">11</span><br></pre></td></tr></table></figure></p>
<h4 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h4><p>题目要求求最小值，先化简不等式组，判断是否有正环，没有正环，求解最长路</p>
<h3 id="CODE"><a href="#CODE" class="headerlink" title="CODE"></a>CODE</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> rep(i,a,n) for (int i=a;i&lt;n;i++)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> per(i,a,n) for (int i=n-1;i&gt;=a;i--)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> pb push_back</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> eb emplace_back</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> mp make_pair</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> all(x) (x).begin(),(x).end()</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> se second</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SZ(x) ((int)(x).size())</span></span><br><span class="line"><span class="keyword">typedef</span> vector&lt;<span class="type">int</span>&gt; VI;</span><br><span class="line"><span class="keyword">typedef</span> basic_string&lt;<span class="type">int</span>&gt; BI;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">double</span> db;</span><br><span class="line"><span class="type">const</span> ll mod=<span class="number">1000000007</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="function">ll <span class="title">powmod</span><span class="params">(ll a,ll b)</span> </span>&#123;ll res=<span class="number">1</span>;a%=mod; <span class="built_in">assert</span>(b&gt;=<span class="number">0</span>); <span class="keyword">for</span>(;b;b&gt;&gt;=<span class="number">1</span>)&#123;<span class="keyword">if</span>(b&amp;<span class="number">1</span>)res=res*a%mod;a=a*a%mod;&#125;<span class="keyword">return</span> res;&#125;</span><br><span class="line"><span class="function">ll <span class="title">gcd</span><span class="params">(ll a,ll b)</span> </span>&#123; <span class="keyword">return</span> b?<span class="built_in">gcd</span>(b,a%b):a;&#125;</span><br><span class="line"><span class="comment">// head</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>, M = <span class="number">200010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,k;</span><br><span class="line"><span class="type">int</span> h[N], e[M], w[M], ne[M], idx;</span><br><span class="line"><span class="type">int</span> cnt[N];</span><br><span class="line">ll dist[N];</span><br><span class="line"><span class="type">bool</span> st[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx] = b, ne[idx] = h[a], w[idx] = c, h[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">spfa</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 使用stack判断正环</span></span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">-0x3f</span>,<span class="keyword">sizeof</span> dist);</span><br><span class="line">    dist[<span class="number">0</span>] = <span class="number">0</span>; </span><br><span class="line">    <span class="type">int</span> q[N];</span><br><span class="line">    <span class="type">int</span> hh = <span class="number">0</span>, tt = <span class="number">1</span>;</span><br><span class="line">    q[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    st[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(hh != tt)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = q[--tt];</span><br><span class="line">        st[t] =<span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = h[t]; ~i; i = ne[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(dist[j] &lt; dist[t] + w[i])</span><br><span class="line">            &#123;</span><br><span class="line">                dist[j] = dist[t] + w[i];</span><br><span class="line">                cnt[j] = cnt[t] + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span>(cnt[j] &gt;= n + <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">if</span>(!st[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    q[tt ++] = j;</span><br><span class="line">                    st[j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="built_in">memset</span>(h, <span class="number">-1</span>, <span class="keyword">sizeof</span> h);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; k; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a,b,x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;x,&amp;a,&amp;b);</span><br><span class="line">        <span class="comment">// 因为要求的是最小值，所以我们需要找最长路径，并构造&gt;=的形式</span></span><br><span class="line">        <span class="keyword">if</span>(x == <span class="number">1</span>) <span class="built_in">add</span>(a,b,<span class="number">0</span>),<span class="built_in">add</span>(b,a,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(x == <span class="number">2</span>) <span class="built_in">add</span>(a,b,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(x == <span class="number">3</span>) <span class="built_in">add</span>(a,b,<span class="number">0</span>); <span class="comment">// 边权为0就无所谓方向了</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(x == <span class="number">4</span>) <span class="built_in">add</span>(b,a,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(x == <span class="number">5</span>) <span class="built_in">add</span>(a,b,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造超级源点</span></span><br><span class="line">    <span class="comment">// 由于上面的不等式为相对值，没有绝对值得情况下是无法求的最值问题的</span></span><br><span class="line">    <span class="comment">// 我们由题意知所有小朋友都会得到糖果所以，每个朋友至少为一，所以构造虚拟源点时候，初始化为1就可以表示为绝对参考系</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="built_in">add</span>(<span class="number">0</span>,i,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">spfa</span>()) <span class="built_in">puts</span>(<span class="string">&quot;-1&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">    &#123;</span><br><span class="line">        ll res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) res += dist[i];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>, res);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">CJY</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/07/19/%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F/">http://example.com/2022/07/19/%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">CJY'S BLOG</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F/">差分约束</a><a class="post-meta__tags" href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a><a class="post-meta__tags" href="/tags/%E5%9B%BE%E8%AE%BA%E6%A8%A1%E7%89%88/">图论模版</a></div><div class="post_share"><div class="social-share" data-image="/img/JapanSummerWallpaper1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/07/20/%E8%B4%9F%E7%8E%AF/"><img class="prev-cover" src="/img/JapanSummerWallpaper1.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">负环</div></div></a></div><div class="next-post pull-right"><a href="/2022/07/19/AcWing-1135-%E6%96%B0%E5%B9%B4%E5%A5%BD/"><img class="next-cover" src="/img/JapanSummerWallpaper1.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">AcWing 1135.新年好</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/07/14/%E6%AC%A1%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" title="次小生成树"><img class="cover" src="/img/JapanSummerWallpaper1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-14</div><div class="title">次小生成树</div></div></a></div><div><a href="/2022/07/22/POJ-1201-Intervals/" title="POJ - 1201 Intervals"><img class="cover" src="/img/JapanSummerWallpaper1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-22</div><div class="title">POJ - 1201 Intervals</div></div></a></div><div><a href="/2022/08/08/ac%E8%87%AA%E5%8A%A8%E6%9C%BA/" title="ac自动机"><img class="cover" src="/img/JapanSummerWallpaper1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-08</div><div class="title">ac自动机</div></div></a></div><div><a href="/2022/07/18/%E5%9B%BE%E8%AE%BA%E7%9F%A5%E8%AF%86/" title="最短路问题"><img class="cover" src="/img/JapanSummerWallpaper1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-18</div><div class="title">最短路问题</div></div></a></div><div><a href="/2022/07/20/%E8%B4%9F%E7%8E%AF/" title="负环"><img class="cover" src="/img/JapanSummerWallpaper1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-20</div><div class="title">负环</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/JapanSummerWallpaper1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">CJY</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">45</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">49</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fas fa-envelope"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/JinYuCai21" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/chui18819033071@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">blog 正在建设中...</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.</span> <span class="toc-text">差分约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E4%B8%80%EF%BC%9A%E6%B1%82%E8%A7%A3%E4%B8%8D%E7%AD%89%E5%BC%8F%E7%BB%84%E7%9A%84%E5%8F%AF%E8%A1%8C%E8%A7%A3%EF%BC%88%E5%8F%AA%E8%83%BD%E6%B1%82%E8%A7%A3%E5%87%BA%E6%9D%A5%E4%B8%80%E4%B8%AA%E7%BB%84%EF%BC%89"><span class="toc-number">1.1.</span> <span class="toc-text">应用一：求解不等式组的可行解（只能求解出来一个组）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="toc-number">1.1.1.</span> <span class="toc-text">步骤：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E4%BA%8C%EF%BC%9A%E6%B1%82%E8%A7%A3%E6%9C%80%E5%A4%A7%E5%80%BC-%E6%9C%80%E5%B0%8F%E5%80%BC%EF%BC%88%E6%AF%8F%E4%B8%AA%E5%80%BC%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC%E5%92%8C%E6%9C%80%E5%B0%8F%E5%80%BC%EF%BC%89"><span class="toc-number">1.2.</span> <span class="toc-text">应用二：求解最大值&#x2F;最小值（每个值的最大值和最小值）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4%EF%BC%9A-1"><span class="toc-number">1.2.1.</span> <span class="toc-text">步骤：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F-%E4%B8%8E-%E6%80%BB%E7%BB%93"><span class="toc-number">1.2.2.</span> <span class="toc-text">注意 与 总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B%E9%A2%98-AcWing-1169-%E7%B3%96%E6%9E%9C"><span class="toc-number">1.3.</span> <span class="toc-text">例题 AcWing 1169. 糖果</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE"><span class="toc-number">1.3.1.</span> <span class="toc-text">题目</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E8%A7%A3"><span class="toc-number">1.3.2.</span> <span class="toc-text">题解</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CODE"><span class="toc-number">1.4.</span> <span class="toc-text">CODE</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/09/05/AcWing-1131-%E6%8B%AF%E6%95%91%E5%A4%A7%E5%85%B5%E7%91%9E%E6%81%A9/" title="AcWing 1131. 拯救大兵瑞恩">AcWing 1131. 拯救大兵瑞恩</a><time datetime="2022-09-05T06:38:35.000Z" title="发表于 2022-09-05 14:38:35">2022-09-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/09/04/AcWing-1137-%E9%80%89%E6%8B%A9%E6%9C%80%E4%BD%B3%E7%BA%BF%E8%B7%AF/" title="AcWing 1137. 选择最佳线路">AcWing 1137. 选择最佳线路</a><time datetime="2022-09-04T12:26:52.000Z" title="发表于 2022-09-04 20:26:52">2022-09-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/09/03/AcWing-341-%E6%9C%80%E4%BC%98%E8%B4%B8%E6%98%93/" title="AcWing 341 最优贸易">AcWing 341 最优贸易</a><time datetime="2022-09-03T08:07:03.000Z" title="发表于 2022-09-03 16:07:03">2022-09-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/09/02/AcWing-342-%E9%81%93%E8%B7%AF%E4%B8%8E%E8%88%AA%E7%BA%BF/" title="AcWing 342 道路与航线">AcWing 342 道路与航线</a><time datetime="2022-09-02T12:58:39.000Z" title="发表于 2022-09-02 20:58:39">2022-09-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/09/01/AcWing-340-%E9%80%9A%E4%BF%A1%E7%BA%BF%E8%B7%AF/" title="AcWing 340. 通信线路">AcWing 340. 通信线路</a><time datetime="2022-09-01T06:59:05.000Z" title="发表于 2022-09-01 14:59:05">2022-09-01</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By CJY</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '',
      appKey: '',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>